# Nginx

> 높은 성능과 안정성 그리고 현재 가장 많이 사용되고 있는 웹 서버
Apache(아파치) 같은 웹 서버와 비교하면 더 빠르고 가볍고, 대규모 애플리케이션 처리에 적합하다는 것이 장점!
> 

1. **클라이언트**
    
    서비스를 이용하기 위해 네트워크를 통해 요청을 보내는 주체.
    
    웹 개발 영역에서 클라이언트라고 하면, 보통 웹 브라우저를 의미함
    
2. **웹 서버**
    
    클라이언트의 요청에 따라 HTML, CSS, JS, 이미지 파일과 같은 정적 파일을 응답하여 제공하는 소프트웨어.
    
    대표적인 웹 서버로는 Nginx, Apache 등이 있음
    
3. **WAS (Web Application Server)**
    
    클라이언트 요청에 대해 동적인 처리를 담당하는 영역.
    
    웹 서버와 달리 애플리케이션 로직을 실행할 수 있도록 구성됨
    
4. **DB (데이터베이스)**
    
    데이터베이스는 조직이나 개인이 필요한 정보를 체계적으로 저장, 관리하고 검색할 수 있는 시스템.
    
    일반적으로 다수의 사용자가 공유할 수 있으며, 대규모 데이터의 저장과 검색을 처리할 수 있음
    
    1. *RDBMS*
        
        데이터를 테이블로 구성하고, 테이블 간의 관계를 정의하여 데이터 저장하는 방식.
        
        SQL과 같은 쿼리 언어를 사용하여 데이터를 검색, 추가, 수정, 삭제 할 수 있음
        
        대표적인 RDBMS로는 MySQL, Microsoft SQL Server 등이 있음
        
    2. *NoSQL*
        
        NoSQL은 “Not only SQL” 또는 ”Non-Relational”의 줄임말로, 관계형 데이터베이스(RDBMS)의 한계를 극복하기 위해 만들어진 데이터베이스.
        
        자유로운 구조의 스키마로 데이터를 저장하며, 분산 처리 및 고성능 처리를 위해 설계됨
        
        RDBMS과는 다르게 데이터를 테이블이 아닌 컬렉션이나 도큐먼트 단위로 저장함
        
        - 컬렉션: 테이블과 유사한 개념
        - 도큐먼트: 일반적으로 JSON 또는 BSON 형식으로 저장되는 일정한 구조를 가진 문서
        
        위와 같은 구조는 데이터를 유연하게 처리할 수 있고, 확장성 또한 높음
        
        대표적인 NoSQL로는 MongoDB, Redis 등이 있음
        

---

보통 웹 서비스는 **클라이언트 → 웹 서버 → WAS → DB** 순으로 요청되고

**DB → WAS → 웹 서버 → 클라이언트** 순으로 응답됨.

![image1](https://github.com/user-attachments/assets/da28290e-1b37-402c-8042-df8de7b71afb)

**그렇다면 왜 웹 서버를 이용할까?**

1. **WAS의 부담을 줄여주기 위해 사용**
    
    WAS는 로그인, 회원가입 등 동적 작업을 처리하는 것만으로도 작업량이 많음
    
    그렇기 때문에 HTML, CSS, JS 등 정적인 파일을 클라이언트에게 전달하는 역할을 웹 서버에게 위임함으로써 WAS 작업 부담을 줄일 수 있음
    
2. **보안 기능을 제공함**
    
    웹 서버는 보안 기능을 제공하여 웹 페이지에 대한 접근을 제어할 수 있음
    
    예를 들면, SSL/TLS 프로토콜을 사용하여 데이터를 암호화하고, 액세스 제어, 웹 방화벽 등의 보안 기능을 제공하여 웹 사이트를 보호할 수 있음
    
3. **높은 성능을 제공함**
    
    웹 서버는 대부분 비동기 처리 방식을 사용하여 높은 성능을 제공함
    
    예를 들면 Nginx, Apache 등의 웹 서버는 이벤트 기반, 멀티 프로세싱, 스레드 풀 등의 기술을 사용하여 수천 대의 클라이언트 요청을 동시에 처리할 수 있음
    

**여러 웹 서버가 있는데 왜 Nginx를 사용할까?**

1. **높은 성능과 적은 메모리 사용**
    
    Nginx는 비동기 I/O 처리 방식을 사용하여 높은 성능을 제공함
    
    이를 통해 대규모 웹 사이트에서도 빠른 응답 시간 보장
    
    또한 적은 메모리 사용량으로도 높은 성능을 제공함 → 서버 운용 비용 절감 가능
    
2. **리버스 프록시(Reverse Proxy) 사용 가능**
    - *프록시(Proxy)란?*
        
        인터넷에서 보안상의 문제로 직접 통신을 주고받을 수 없을 때, 그 사이의 중계기로서 대리로 통신을 수행하는 기능을 프록시라고 함

    - *포워드 프록시*
        
        클라이언트와 인터넷 사이의 영역을 포워드 프록시라고 함
        
        클라이언트가 어떤 정보를 요청하면 포워드 프록시가 이를 대신 받아서 서버에게 전달함
        
        서버의 응답 또한 포워드 프록시가 대신 받아 클라이언트에게 전달함
        
        포워드 프록시를 사용하면 클라이언트의 IP 주소가 웹 서버에 노출되지 않아, 클라이언트의 위치나 신원을 식별하는 것이 어려워져 보안이 강화됨.
        
        또한 포워드 프록시를 사용하면 특정 IP 주소, 도메인 또는 URL에 대한 접근을 제한할 수 있음
        
        마지막으로 큰 용량을 가지고 있는 미디어 파일을 캐싱하여 클라이언트에게 빠르게 제공할 수 있음
        
    - *리버스 프록시*
        
        인터넷과 백엔드 사이의 서버 영역을 리버스 프록시라고 함
        
        클라이언트가 blog1, blog2로 접근했다면 blog1은 A 서버로 전달하고 blog2는 B 서버로 전달하여 요청에 해당하는 웹 서버로 길을 분배할 수 있음 → 로드 밸런싱이라고 함
        
        ![image2](https://github.com/user-attachments/assets/f9e96112-1fb2-4167-9efc-803898dc5b0c)
        
        또한 캐싱 서버로 이용 가능함.
        
        예를 들어 클라이언트가 이미지를 요청했을 때 처음에는 서버에서 가져오지만 이후에 동일한 요청이 있는 경우에는 캐시 서버에서 가져와 클라이언트에게 전달해줌 → 접속 속도 향상
        
        마지막으로 WAS가 데이터 응답할 때 기기의 명칭이나 주소 등 민감한 정보를 중간에서 숨겨줌으로써 보안을 높임
        
3. **SSL 지원**
    
    SSL은 HTTPS로 알려진 보안 HTTP 프로토콜 기반 기술
    
    SSL 프로토콜을 사용하여 웹 서버와 클라이언트 간에 보안 연결을 설정하고, SSL 인증서를 사용하여 서버의 신원을 인증함
    
    이를 통해 중간자 공격과 같은 보안 위협을 방지하고 사용자의 개인 정보와 웹 사이트의 기밀 정보를 보호할 수 있음
    
4. **데이터 압축**
    
    클라이언트가 보내는 요청이 텍스트일 경우, gzip을 사용하여 해당 데이터를 압축시킬 수 있음
    
5. **비동기 처리**
    
    이벤트 루프 방식을 사용하여 높은 성능을 제공함
    
    이를 통해 동시에 여러 요청이 들어왔을 때에도 많은 트래픽을 동시에 처리할 수 있어 빠른 응답 시간을 보장함